{% extends "index.html" %}
{% load widget_tweaks %}
{% load static %}
{% block title %} Lakhsma | Buyer Library {% endblock title %}
{% block homeactive  %}active{% endblock homeactive  %}
{% block css %}
<style>
</style>
{% endblock css %}

{% block body %}
<div class="container">
  <div class="">{% include 'Index/alerts.html' %}</div>
   {% include 'Merchandising/Library/library_header.html' %}
    <div class=" card border border-dark mb-2 mt-2">
      <div class=" p-2 bg-black">
          <h5 class="text-uppercase text-center ">Buyer Library</h4>
      </div>
      <div class="container p-4">
          <div class="row">
              <div class="col-md-12 P-4">
              
                  <form  method="post" class="needs-validation" action="" enctype="multipart/form-data">
                      {% csrf_token %}
                      <div class="form-group row ">
                        <label for="insert_date" class="col-sm-2 col-form-label ">Inserted Date </label>
                        <div class="col-sm-4 ">
                          {{ form.insert_date|attr:"class:form-control"|attr:"type:datetime"|attr:"id:insert_date"}}
                        </div>
                      </div>

                        <div class="form-group row ">
                          <label for="buyer_name" class="col-sm-2 col-form-label ">Buyer Name</label>
                          <div class="col-sm-4 ">
                            {{ form.buyer_name|attr:"class:form-control"|attr:"type:text"|attr:"placeholder:Buyer Name"}}
                          </div>
                          <label for="contact_person" class="col-sm-2 col-form-label ">Contact Person</label>
                          <div class="col-sm-4 ">
                            {{ form.contact_person|attr:"class:form-control"|attr:"type:text"|attr:"placeholder:Contact Person Name"}}
                          </div>
                        </div>

                        <div class="form-group row ">
                          <label for="buyer_email" class="col-sm-2 col-form-label ">Buyer Email</label>
                          <div class="col-sm-4 ">
                            {{ form.buyer_email|attr:"class:form-control"|attr:"type:text"|attr:"placeholder:Buyer Email"}}
                          </div>
                          <label for="contact_no" class="col-sm-2 col-form-label ">Contact No</label>
                          <div class="col-sm-4 ">
                            {{ form.contact_no|attr:"class:form-control"|attr:"type:text"|attr:"placeholder:Contact No."}}
                          </div>
                        </div>

                        <div class="form-group row ">
                          <label for="website" class="col-sm-2 col-form-label ">Website</label>
                          <div class="col-sm-4 ">
                            {{ form.website|attr:"class:form-control"|attr:"type:text"|attr:"placeholder:Website"}}
                          </div>
                          <label for="subcontract_party" class="col-sm-2 col-form-label ">Sub Contract Party</label>
                          <div class="col-sm-4 ">
                            {{ form.subcontract_party|attr:"class:form-control"|attr:"type:text"|attr:"placeholder:Sub Contract Party"}}
                          </div>
                        </div>

                        <div class="form-group row ">
                          <label for="address" class="col-sm-2 col-form-label ">Address</label>
                          <div class="col-sm-10 ">
                            {{ form.address|attr:"class:form-control"|attr:"type:text"|attr:"placeholder:Address"|attr:"rows:2"}}
                          </div>
                         
                        </div>
                        <div class="form-group row ">
                          
                          <label for="remark" class="col-sm-2 col-form-label ">Remarks</label>
                          <div class="col-sm-10 ">
                            {{ form.remark|attr:"class:form-control"|attr:"type:text"|attr:"placeholder:Remarks"|attr:"rows:2"}}
                          </div>
                        </div>

                        

                        <div>
                            <button type="submit" class="btn btn-success btn-sm">Save </button>
                        </div>
                  </form>
                </div>
          </div>
            <div class="invoice-items mt-5">
                          <div class="table-responsive"  tabindex="0">
                              <table class="table table-bordered table-hover table-striped table-sm  " id="table_field">
                                  <thead class="bg-dark">
                                    <tr>
                                      <th colspan="6" class="text-center text-uppercase"><h5>Buyer Information</h5></th>
                                    </tr>

                                      <tr>
                                          <th class=" text-center" width="">Buyer Name</th>
                                          <th class=" text-center" width="">Email</th>
                                          <th class=" text-center" width="">Contact</th>
                                          <th class=" text-center" width="">Address</th>
                                          <th class=" text-center">Date</th>
                                          <th class=" text-center">Action</th>
                                      </tr>
                                  </thead>
                                  <tbody class='inlineform' >
                                    {% for i in buyers %}

                                      <tr>
                                          <td class="text-center">
                                            {{i.buyer_name}}

                                          </td>
                                          <td class="text-center">
                                            {{i.buyer_email}}

                                          </td>
                                          <td class="text-center">
                                            {{i.contact_no}}

                                          </td>
                                          <td class="text-center">
                                            {{i.address}}

                                          </td>
                                          <td class="text-center">
                                            {{i.insert_date}}

                                          </td>
                                          <td class="text-center">
                                            <div class="btn-group">
                                              <button type="button" class="btn btn-danger btn-sm">Action</button>
                                              <button type="button" class="btn btn-danger btn-sm dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                <span class="sr-only">Action</span>
                                              </button>
                                              <div class="dropdown-menu">
                        
                                                <a class="dropdown-item" href="{% url 'edit_buyer' i.id %}"><i class="fas fa-pencil-alt text-warning mr-2" data-toggle="tooltip" data-placement="bottom" title="Update"></i> Edit</a>
                        
                                                <a class="dropdown-item" href="{% url 'delete_buyer' i.id %}" onclick="return confirm('Are you sure you want to delete this item?')"><i class="fas fa-trash text-danger  mr-2 " data-toggle="tooltip" data-placement="bottom" title="Delete"></i> Delete</a>
                        
                                              </div>
                                            </div>
                                            
                                          </td>
                                      </tr>
                                      {% endfor %}

                                      
                                  </tbody>
                              </table>
                          </div>
                      </div>
                    
      </div>
  
    </div>
</div>



{% endblock body %}

{% block script %}
  <script type="text/javascript">
  var time = new Date();
  var tt = time.toLocaleString('en-US', { hour: 'numeric', minute: 'numeric', hour12: true })
  document.getElementById("currentTime").value = tt;
  // FOR SHOWING THE TODAY DATE 
  var today = new Date();
     var dd = today.getDate();
     var mm = today.getMonth()+1; //January is 0!
     var yyyy = today.getFullYear();
     if(dd<10) {
         dd = '0'+dd
       } 
     if(mm<10) {
         mm = '0'+mm
       } 
     today = yyyy + '-' + mm + '-' + dd;
     console.log(today);
     document.getElementById('challan_date').value = today;
  </script>
{% endblock script %}

