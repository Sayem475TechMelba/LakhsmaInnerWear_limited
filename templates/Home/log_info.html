{% extends "index.html" %}
{% load widget_tweaks %}
{% load static %}
{% block title %} Lakhsma |Log Entries {% endblock title %}
{% block homeactive  %}active{% endblock homeactive  %}
{% block css %}
<style>
    tfoot {
     display: table-header-group;
}
</style>
{% endblock css %}

{% block body %}

<div class="container">
    <div class="invoice-items">
        <div tabindex="0">
            <table  id="log_entries" class="table table-bordered table-striped table-sm table-responsive-sm table-hover  display" >
                <thead class=" bg-info">
                    <tr>
                        <th colspan="6" class="text-center text-uppercase"><h5> Log Entries Information</h5></th>
                      </tr>
                    <tr>
                        <th  class=" text-center">SL.</th>
                        <th class=" text-center" width="">Action Time</th>
                        <th class=" text-center" width="">User</th>
                        <th class=" text-center" width="">Content Type</th>
                        <th class=" text-center" width="">Items</th>
                        <th class=" text-center" width="">Action Flag</th>
                        
                    </tr>
                </thead>
                <tfoot id="tfooter">
                    <tr>
                        <th></th>
                        <th></th>
                        <th></th>
                        <th></th>
                        <th></th>
                        <th></th>
                    </tr>
                </tfoot>
                <tbody class='' >
                  {% for i in logs %}
                    <tr>
                        <td class="text-center">
                            {{forloop.counter}}
                        </td>
                        <td class="text-center">
                            {{i.action_time}}
                        </td>
                        
                        <td class="text-center">
                            {{i.user}}
                        </td>
                        <td class="text-center">
                            {{i.content_type}}
                        </td>
                        <td class="text-center">
                            {{i.object_repr}}
                        </td>
                        <td class="text-center">
                            {% if i.action_flag == 1 %}
                            <span class="text-success font-weight-bold">Added</span>
                            {% elif i.action_flag == 2 %}
                            <span class="text-warning font-weight-bold">Edited</span>
                            {% elif i.action_flag == 3 %}
                            <span class="text-danger font-weight-bold">Deleted</span>
                            {% endif %}
                        </td>
                        <!-- <td class="text-center">
                          <div class="btn-group">
                            <button type="button" class="btn btn-danger btn-sm">Action</button>
                            <button type="button" class="btn btn-danger btn-sm dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                              <span class="sr-only">Action</span>
                            </button>
                            <div class="dropdown-menu">
      
                              <a class="dropdown-item" href="{% url 'edit_trim_source' i.id %}"><i class="fas fa-pencil-alt text-warning mr-2" data-toggle="tooltip" data-placement="bottom" title="Update"></i> Edit</a>
      
                              <a class="dropdown-item" href="{% url 'delete_trim_source' i.id %}" onclick="return confirm('Are you sure you want to delete this item?')"><i class="fas fa-trash text-danger  mr-2 " data-toggle="tooltip" data-placement="bottom" title="Delete"></i> Delete</a>
      
                            </div>
                          </div>
                          
                        </td> -->
                    </tr>
                   {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>


{% endblock body %}

{% block script %}
  
<script>
    $(document).ready(function() {
      // Setup - add a text input to each footer cell
      $('#log_entries #tfooter th').each( function () {
          var title = $(this).text();
          $(this).html( '<input type="text" class="form-controls" placeholder="Search" />' );
      });
      // DataTable
      var table = $('#log_entries').DataTable({
        
    //   dom: 'Bfrtip',
    //   buttons: [
    //     {
    //         extend: 'copyHtml5',
    //         exportOptions: {
    //           columns: ':visible'
    //         }
    //     },
    //     {
    //         extend: 'excelHtml5',
    //         exportOptions: {
    //           columns: ':visible'
    //         }
    //     },
    //     {
    //         extend: 'csvHtml5',
    //         exportOptions: {
    //           columns: ':visible'
    //         }
    //     },
        
    //     'colvis'
    //   ],
      "bPaginate": false,
      "scrollY": 550,
      "scrollX": true,
      
          initComplete: function () {
              // Apply the search
              this.api().columns().every( function () {
                  var that = this;
   
                  $( 'input', this.footer() ).on( 'keyup change clear', function () {
                      if ( that.search() !== this.value ) {
                          that
                              .search( this.value )
                              .draw();
                      }
                  } );
              } );
          }
      });
      
  } );
</script>
{% endblock script %}

