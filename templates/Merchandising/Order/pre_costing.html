{% extends "index.html" %}
{% load widget_tweaks %}
{% load static %}
{% block title %} Lakshma | Pre Costing Form {% endblock title %}
{% block homeactive  %}active{% endblock homeactive  %}

{% block css %}
<style>
    .fabDesSearch {
        border-radius: 0;
        box-shadow: none;
        border: 1px solid #e4e5e7;
        display: block;
        width: 100%;
        height: 26px;
        padding: 2px 12px;
        font-size: 14px;
        line-height: 1.42857143;
        color: #555;
        background-color: #fff;
        background-image: none;
      
      }
    tfoot {
        display: table-header-group;
   }
   .modal {
    position: fixed;
    top: 0;

    left: 0;
    z-index: 1050;
    display: none;
    height: 100%;
    overflow: hidden;
    outline: 0;
}
   
    .modal-lg{
        max-width: 90%;
    }
    .modal-comm{
        max-width: 50%;
    }
    .modal-wash{
        max-width: 80%;
    }
    .inpSize input {width:140px;}
    .inpSize select {width:140px;}
    #fabricHide {display:none;}
    #trimHide {display:none;}
    #embllishHide {display:none;}
    #washHide {display:none;}
    #commercialHide {display:none;}
    #commissionHide {display:none;}

</style>
{% endblock css %}

{% block body %}

<div class="container">
    <div class="">{% include 'Index/alerts.html' %}</div>
    <div class="d-flex">
      <div class="mr-auto p-2">
        <a type="button" href="{% url 'order_report' %}" class="btn btn-sm btn-info gr"><i class="fa fa-bars" aria-hidden="true"></i> Order Report</a>
      </div>
      <div class="p-2">
        <a  type="btn" class="btn btn-sm btn-light " onClick="javascript:history.go(-1);"><i class="fa fa-undo" aria-hidden="true"></i></a>
      </div>
    </div>
    <div class=" card border border-dark mb-2 mt-2">
      <div class=" p-2  bg-form-header">
          <h5 class="text-uppercase text-center ">Budget/Pre-Costing Form</h4>
      </div>
      <div class="container-fluid p-4 bg-form">
          <div class="row">
              <div class="col-md-12 P-4">
              
                  <form method="post" action="{% url 'pre_costing' %}" enctype="multipart/form-data" id="c_form">
                      {% csrf_token %}
                      <input type="hidden" name="_task" value="cost_form">
                      <div class="form-group row ">
                          <label for="job_no" class="col-sm-2 col-form-label">Job No.</label>
                          <div class="col-sm-2 ">
                              <input type="text" class="form-control" name="job_no" placeholder="Job no" id="job_no" value="{{ fetch.job_no }}">
                          </div>
                          <label for="company_name" class="col-sm-2 col-form-label label">Company</label>
                          <div class="col-sm-2 ">
                            
                            <input class="form-control" value="{{ fetch.company_name }}">
                            
                          </div>
                          <label for="company_location" class="col-sm-2 col-form-label label">Quotation ID</label>
                          <div class="col-sm-2 ">
                            {{ form.quotation_id|attr:"class:form-control"}}
                            
                          </div>
                        </div>
                        
  
                        <div class="form-group row ">
                            <label for="style_ref" class="col-sm-2 col-form-label label">Style Ref</label>
                          <div class="col-sm-2 ">
                            <input class="form-control" value="{{ fetch.style_ref }}">

                          </div>
                          
                          <label for="style_description" class="col-sm-2 col-form-label label">Style Description</label>
                          <div class="col-sm-2 ">
                            <input class="form-control" value="{{ fetch.style_description }}">

                          </div>
                          <label for="buyer_name" class="col-sm-2 col-form-label ">Buyer Name</label>
                          <div class="col-sm-2 ">
                            <input class="form-control" value="{{ fetch.buyer_name }}">
                            
                          </div>
                          
                        </div>
                        

                        <div class="table-responsive mt-2">
                            <table class="table table-bordered table-hover table-sm" >
                                <thead class="bg-table-header">
                                    
                                    <tr>
                                        <th class="text-center label">Prod. Dept. </th>
                                        <th class="text-center"> Currency </th>
                                        <th class="text-center"  width="60px;"> ER </th>
                                        <th class="text-center label">Agent </th>
                                        <th class="text-center label" width="150px;">Job Qty </th>
                                        <th class="text-center label" width="150px;" hidden>Avg. Price </th>
                                        <th class="text-center"> Order Unit </th>
                                        <th class="text-center"  width="150px;" > </th>
                                        <th class="text-center label"> Costing Date </th>
                                        <th class="text-center label">Incoterm </th>


                                    </tr>
                                </thead>
                                <tbody >
                                    <tr >
                                        <td >
                                            <input class="form-control" value="{{ fetch.product_dept }}">
                                            
                                        </td>

                                        <td >
                                            <input class="form-control" value="{{ fetch.currency }}">
                                         
                                        </td>

                                        <td >
                                            {{ form.er|attr:"class:form-control" }}

                                        </td>
                                        <td >
                                            <input class="form-control" value="{{ fetch.agent }}">

                                        </td>
                                        <td >
                                            <input class="form-control" name="job_qty" value="{{ total_po }}">

                                        </td>
                                        <td hidden>
                                            <input hidden class="form-control" name="avg_rate" value="{{ total_avg_price }}">

                                        </td>
                                        
                                        <td >
                                            {{ form.order_unit|attr:"class:form-control"}}

                                        </td>
                                        <td >
                                            {{ form.item_details|attr:"class:form-control"}}

                                        </td>
                                        <td >
                                           
                                           {{ form.costing_date|attr:"class:form-control"|attr:"type:date" }}

                                       </td>
                                       <td >
                                            
                                        <!-- {{ form.incoterm|attr:"class:form-control"}} -->
                                        <input class="form-control" value="{{ fetch.shipment_term }}">

                                    </td>
                                        
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="table-responsive mt-2">

                            <table class="table table-bordered table-hover table-sm" >
                                <thead class="bg-table-header">
                                    
                                    <tr>
                                        <th class="text-center"> Incoterm Place </th>
                                        <th class="text-center"> Machine/Line </th>
                                        <th class="text-center"> Prod/Line/Hr </th>
                                        <th class="text-center"> Costing Per  </th>
                                        <th class="text-center label"> Region </th>
                                        <th class="text-center label">Sew. SMV </th>
                                        <th class="text-center"> Sew Efficiency % </th>
                                        <th class="text-center"> Cut SMV</th>


                                    </tr>
                                </thead>
                                <tbody >
                                    <tr >
                                       
                                        
                                        <td >
                                            {{ form.incoterm_place|attr:"class:form-control"}}

                                        </td>
                                       
                                        <td >
                                            {{ form.machine_line|attr:"class:form-control"}}

                                        </td>
                                        
                                        <td >
                                             {{ form.prod_line|attr:"class:form-control"|attr:"type:text"}}

                                        </td>
                                        <td >
                                            
                                            {{ form.costing_per|attr:"class:form-control"}}
                                        
                                            
                                        </td>
                                        <td >
                                            <input class="form-control" value="{{ fetch.region }}">


                                        </td>
                                       
                                        <td >
                                            <input class="form-control" value="{{ fetch.tt_sew_smv }}">

                                           
                                        </td>
                                       
                                        <td >
                                            {{ form.sew_efficiency|attr:"class:form-control" }}

                                        </td>
                                        <td >
                                            <input class="form-control" value="{{fetch.tt_cut_smv}}">

                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="table-responsive mt-2">

                            <table class="table table-bordered table-hover table-sm" >
                                <thead class="bg-table-header">
                                   
                                    <tr>
                                        
                                        <th class="text-center"> Cut Efficiency % </th>
                                        <th class="text-center"> Reamrks </th>
                                        <th class="text-center"> Budget Minute </th>
                                        <th class="text-center label" width="160px;"> Images </th>
                                        <th class="text-center label" width="160px;">File No.</th>
                                        <th class="text-center"> Internal Ref </th>
                                        <th class="text-center"> Copy Form </th>
                                        <th class="text-center" width="160px;"></th>

                                    </tr>
                                </thead>
                                <tbody >
                                    <tr >
                                        
                                        
                                        
                                        <td >
                                            {{ form.cut_efficiency|attr:"class:form-control" }}


                                        </td>
                                        
                                        <td >
                                             {{ form.remarks|attr:"class:form-control"|attr:"type:text"|attr:"rows:1"}}

                                        </td>
                                        <td >
                                            {{ form.budget_minute|attr:"class:form-control" }}
                                        
                                            
                                        </td>
                                        <td >
                                            
                                            <img height="30px" width="30px" src="/media/{{fetch.image}}/">

                                        </td>
                                        <td >
                                            {{ form.file_no|attr:"class:form-control"|attr:"type:text"}}
                                           
                                        </td>
                                       
                                        <td >
                                            {{ form.internal_ref|attr:"class:form-control"|attr:"type:text"|attr:"placeholder:Internal Ref."}}

                                        </td>
                                        <td >
                                            {{ form.copy_form|attr:"class:form-control"|attr:"type:text"|attr:"placeholder:Copy Form"}}


                                        </td>
                                       
                                        <td >
                                            <input type="text" class="form-control" placeholder="Copy without consumption" >
                                            <!-- {{ form.working_company|attr:"class:form-control"|attr:"required" }} -->

                                        </td>
                                        
                                       
                                        
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="form-group row mt-2">
                            <label for="company_name" class="col-sm-2 col-form-label label">Ready To Approved</label>
                            <div class="col-sm-2 ">
                                {{ form.redy_to_approved|attr:"class:form-control"}}


                            </div>
                            <label for="company_name" class="col-sm-2 col-form-label label">Mini Marker Upload</label>
                            <div class="col-sm-2 ">
                                {{ form.mini_marker_upload|attr:"class:form-control"}}

                            </div>
                            <label for="location_name" class="col-sm-2 col-form-label label">Un-approve Request</label>
                            <div class="col-sm-2 ">
                                <input type="text" class="form-control" placeholder="Double Click" >
                            </div>
                          </div>
                        <div class="form-group row mt-2">
                            <label for="approved" class="col-sm-2 col-form-label label">Approved</label>
                            <div class="col-sm-2 ">
                                {{ form.approved|attr:"class:form-control"}}
                            </div>
                          </div>


                          <!-- <div class="form-group text-center mt-2">
                            <button type="submit" name="button1" class="btn btn-info btn-sm" id="submitButton" value="">Submit For Approval</button>
                          </div> -->
                          <hr>
                       

                        
                        <div class="mt-2">
                            
                            <button type="submit" name="button1" class="btn btn-success btn-sm" style=" border-radius: 20px;">Save</button>
                     
                        </div>
                  </form>
                </div>
  
              </div>
          </div>
  
    </div>
</div>
     <!-- SECTION TNA Process  -->
     <div class="row mt-3">
        <div class='col-md-3 col-lg-3'>
            <div class="table-responsive bg-form">
                <form method="post"  enctype="multipart/form-data">
                    {% csrf_token %}
                    <table class="table table-bordered table-sm table-responsive-sm" >
                        <thead>
                            <tr class="bg-info"> 
                                <th class="text-center bg-form-header"  colspan="7">
                                    <h6>TNA process manual</h6>
                                </th>
                            </tr>
                            <tr class="bg-table-header">
                                <th class=" text-center" width="130px;">Cost Comp.</th>
                                <th class=" text-center">Budgeted Cost</th>
                                <th class=" text-center">% To Q Price</th>
                            </tr>
                        </thead>
                        <tbody >
                    
                            <tr >
                                <td class="text-center">
                                    <label for="location_name" >Fabric Cost</label>
                                    <!-- <input type="text" class="form-control" value="Fabric Cost"> -->
                                    <!-- {{ form.export_bill_amount|attr:"class:form-control"|attr:"type:text"|attr:"id:export_bill_amount"|attr:"value:Export Bill Amount"|attr:"required" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control"  onclick="fabric(event, 'fabricHide');" >
                                    <!-- {{ form.export_bill_pct|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_pct"|attr:"required"|attr:"readonly" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control"  >
                                    <!-- {{ form.export_bill_amt|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_amt"|attr:"required"|attr:"oninput=calc();"|attr:"name:export_bill_amt"|attr:"readonly" }} -->
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">
                                    <label for="location_name" >Trims Cost</label>
                                    <!-- <input type="text" class="form-control" value="Fabric Cost"> -->
                                    <!-- {{ form.export_bill_amount|attr:"class:form-control"|attr:"type:text"|attr:"id:export_bill_amount"|attr:"value:Export Bill Amount"|attr:"required" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" onclick="trim(event, 'trimHide');">
                                    <!-- {{ form.export_bill_pct|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_pct"|attr:"required"|attr:"readonly" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_amt|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_amt"|attr:"required"|attr:"oninput=calc();"|attr:"name:export_bill_amt"|attr:"readonly" }} -->
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">
                                    <label for="location_name" >Embel Cost</label>
                                    <!-- <input type="text" class="form-control" value="Fabric Cost"> -->
                                    <!-- {{ form.export_bill_amount|attr:"class:form-control"|attr:"type:text"|attr:"id:export_bill_amount"|attr:"value:Export Bill Amount"|attr:"required" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control"  onclick="embllish(event, 'embllishHide');">
                                    <!-- {{ form.export_bill_pct|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_pct"|attr:"required"|attr:"readonly" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_amt|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_amt"|attr:"required"|attr:"oninput=calc();"|attr:"name:export_bill_amt"|attr:"readonly" }} -->
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">
                                    <label for="location_name" >Gmts. Wash</label>
                                    <!-- <input type="text" class="form-control" value="Fabric Cost"> -->
                                    <!-- {{ form.export_bill_amount|attr:"class:form-control"|attr:"type:text"|attr:"id:export_bill_amount"|attr:"value:Export Bill Amount"|attr:"required" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" onclick="wash(event, 'washHide');">
                                    <!-- {{ form.export_bill_pct|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_pct"|attr:"required"|attr:"readonly" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_amt|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_amt"|attr:"required"|attr:"oninput=calc();"|attr:"name:export_bill_amt"|attr:"readonly" }} -->
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">
                                    <label for="location_name">Comml Cost</label>
                                    <!-- <input type="text" class="form-control" value="Fabric Cost"> -->
                                    <!-- {{ form.export_bill_amount|attr:"class:form-control"|attr:"type:text"|attr:"id:export_bill_amount"|attr:"value:Export Bill Amount"|attr:"required" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" onclick="commercial(event, 'commercialHide');">
                                    <!-- {{ form.export_bill_pct|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_pct"|attr:"required"|attr:"readonly" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_amt|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_amt"|attr:"required"|attr:"oninput=calc();"|attr:"name:export_bill_amt"|attr:"readonly" }} -->
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">
                                    <label for="location_name" >Lab Test</label>
                                    <!-- <input type="text" class="form-control" value="Fabric Cost"> -->
                                    <!-- {{ form.export_bill_amount|attr:"class:form-control"|attr:"type:text"|attr:"id:export_bill_amount"|attr:"value:Export Bill Amount"|attr:"required" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_pct|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_pct"|attr:"required"|attr:"readonly" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_amt|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_amt"|attr:"required"|attr:"oninput=calc();"|attr:"name:export_bill_amt"|attr:"readonly" }} -->
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">
                                    <label for="location_name" >Inspection</label>
                                    <!-- <input type="text" class="form-control" value="Fabric Cost"> -->
                                    <!-- {{ form.export_bill_amount|attr:"class:form-control"|attr:"type:text"|attr:"id:export_bill_amount"|attr:"value:Export Bill Amount"|attr:"required" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_pct|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_pct"|attr:"required"|attr:"readonly" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_amt|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_amt"|attr:"required"|attr:"oninput=calc();"|attr:"name:export_bill_amt"|attr:"readonly" }} -->
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">
                                    <label for="location_name">Freight</label>
                                    <!-- <input type="text" class="form-control" value="Fabric Cost"> -->
                                    <!-- {{ form.export_bill_amount|attr:"class:form-control"|attr:"type:text"|attr:"id:export_bill_amount"|attr:"value:Export Bill Amount"|attr:"required" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_pct|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_pct"|attr:"required"|attr:"readonly" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_amt|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_amt"|attr:"required"|attr:"oninput=calc();"|attr:"name:export_bill_amt"|attr:"readonly" }} -->
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">
                                    <label for="location_name">Courier Cost</label>
                                    <!-- <input type="text" class="form-control" value="Fabric Cost"> -->
                                    <!-- {{ form.export_bill_amount|attr:"class:form-control"|attr:"type:text"|attr:"id:export_bill_amount"|attr:"value:Export Bill Amount"|attr:"required" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_pct|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_pct"|attr:"required"|attr:"readonly" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_amt|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_amt"|attr:"required"|attr:"oninput=calc();"|attr:"name:export_bill_amt"|attr:"readonly" }} -->
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">
                                    <label for="location_name" >Certificate Cost</label>
                                    <!-- <input type="text" class="form-control" value="Fabric Cost"> -->
                                    <!-- {{ form.export_bill_amount|attr:"class:form-control"|attr:"type:text"|attr:"id:export_bill_amount"|attr:"value:Export Bill Amount"|attr:"required" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_pct|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_pct"|attr:"required"|attr:"readonly" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_amt|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_amt"|attr:"required"|attr:"oninput=calc();"|attr:"name:export_bill_amt"|attr:"readonly" }} -->
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">
                                    <label for="location_name">Deffd. LC Cost</label>
                                    <!-- <input type="text" class="form-control" value="Fabric Cost"> -->
                                    <!-- {{ form.export_bill_amount|attr:"class:form-control"|attr:"type:text"|attr:"id:export_bill_amount"|attr:"value:Export Bill Amount"|attr:"required" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_pct|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_pct"|attr:"required"|attr:"readonly" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_amt|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_amt"|attr:"required"|attr:"oninput=calc();"|attr:"name:export_bill_amt"|attr:"readonly" }} -->
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">
                                    <label for="location_name" >Design Cost</label>
                                    <!-- <input type="text" class="form-control" value="Fabric Cost"> -->
                                    <!-- {{ form.export_bill_amount|attr:"class:form-control"|attr:"type:text"|attr:"id:export_bill_amount"|attr:"value:Export Bill Amount"|attr:"required" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_pct|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_pct"|attr:"required"|attr:"readonly" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_amt|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_amt"|attr:"required"|attr:"oninput=calc();"|attr:"name:export_bill_amt"|attr:"readonly" }} -->
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">
                                    <label for="location_name">Studio Cost</label>
                                    <!-- <input type="text" class="form-control" value="Fabric Cost"> -->
                                    <!-- {{ form.export_bill_amount|attr:"class:form-control"|attr:"type:text"|attr:"id:export_bill_amount"|attr:"value:Export Bill Amount"|attr:"required" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_pct|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_pct"|attr:"required"|attr:"readonly" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_amt|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_amt"|attr:"required"|attr:"oninput=calc();"|attr:"name:export_bill_amt"|attr:"readonly" }} -->
                                </td>
                            </tr>
                        
                            <tr>
                                <td class="text-center">
                                    <label for="location_name" >Opert Exp.</label>
                                    <!-- <input type="text" class="form-control" value="Fabric Cost"> -->
                                    <!-- {{ form.export_bill_amount|attr:"class:form-control"|attr:"type:text"|attr:"id:export_bill_amount"|attr:"value:Export Bill Amount"|attr:"required" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_pct|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_pct"|attr:"required"|attr:"readonly" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_amt|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_amt"|attr:"required"|attr:"oninput=calc();"|attr:"name:export_bill_amt"|attr:"readonly" }} -->
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">
                                    <label for="location_name" >CM Cost</label>
                                    <!-- <input type="text" class="form-control" value="Fabric Cost"> -->
                                    <!-- {{ form.export_bill_amount|attr:"class:form-control"|attr:"type:text"|attr:"id:export_bill_amount"|attr:"value:Export Bill Amount"|attr:"required" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_pct|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_pct"|attr:"required"|attr:"readonly" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_amt|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_amt"|attr:"required"|attr:"oninput=calc();"|attr:"name:export_bill_amt"|attr:"readonly" }} -->
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">
                                    <label for="location_name">Interest</label>
                                    <!-- <input type="text" class="form-control" value="Fabric Cost"> -->
                                    <!-- {{ form.export_bill_amount|attr:"class:form-control"|attr:"type:text"|attr:"id:export_bill_amount"|attr:"value:Export Bill Amount"|attr:"required" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_pct|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_pct"|attr:"required"|attr:"readonly" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_amt|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_amt"|attr:"required"|attr:"oninput=calc();"|attr:"name:export_bill_amt"|attr:"readonly" }} -->
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">
                                    <label for="location_name">Income Tax</label>
                                    <!-- <input type="text" class="form-control" value="Fabric Cost"> -->
                                    <!-- {{ form.export_bill_amount|attr:"class:form-control"|attr:"type:text"|attr:"id:export_bill_amount"|attr:"value:Export Bill Amount"|attr:"required" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_pct|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_pct"|attr:"required"|attr:"readonly" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_amt|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_amt"|attr:"required"|attr:"oninput=calc();"|attr:"name:export_bill_amt"|attr:"readonly" }} -->
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">
                                    <label for="location_name">Depc & Amount</label>
                                    <!-- <input type="text" class="form-control" value="Fabric Cost"> -->
                                    <!-- {{ form.export_bill_amount|attr:"class:form-control"|attr:"type:text"|attr:"id:export_bill_amount"|attr:"value:Export Bill Amount"|attr:"required" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_pct|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_pct"|attr:"required"|attr:"readonly" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_amt|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_amt"|attr:"required"|attr:"oninput=calc();"|attr:"name:export_bill_amt"|attr:"readonly" }} -->
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">
                                    <label for="location_name" >Commission</label>
                                    <!-- <input type="text" class="form-control" value="Fabric Cost"> -->
                                    <!-- {{ form.export_bill_amount|attr:"class:form-control"|attr:"type:text"|attr:"id:export_bill_amount"|attr:"value:Export Bill Amount"|attr:"required" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" onclick="commission(event, 'commissionHide');">
                                    <!-- {{ form.export_bill_pct|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_pct"|attr:"required"|attr:"readonly" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_amt|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_amt"|attr:"required"|attr:"oninput=calc();"|attr:"name:export_bill_amt"|attr:"readonly" }} -->
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">
                                    <label for="location_name" >Total Cost</label>
                                    <!-- <input type="text" class="form-control" value="Fabric Cost"> -->
                                    <!-- {{ form.export_bill_amount|attr:"class:form-control"|attr:"type:text"|attr:"id:export_bill_amount"|attr:"value:Export Bill Amount"|attr:"required" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_pct|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_pct"|attr:"required"|attr:"readonly" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_amt|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_amt"|attr:"required"|attr:"oninput=calc();"|attr:"name:export_bill_amt"|attr:"readonly" }} -->
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">
                                    <label for="location_name">Price/1 Dzn</label>
                                    <!-- <input type="text" class="form-control" value="Fabric Cost"> -->
                                    <!-- {{ form.export_bill_amount|attr:"class:form-control"|attr:"type:text"|attr:"id:export_bill_amount"|attr:"value:Export Bill Amount"|attr:"required" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_pct|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_pct"|attr:"required"|attr:"readonly" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_amt|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_amt"|attr:"required"|attr:"oninput=calc();"|attr:"name:export_bill_amt"|attr:"readonly" }} -->
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">
                                    <label for="location_name" >Margin/1 Dzn</label>
                                    <!-- <input type="text" class="form-control" value="Fabric Cost"> -->
                                    <!-- {{ form.export_bill_amount|attr:"class:form-control"|attr:"type:text"|attr:"id:export_bill_amount"|attr:"value:Export Bill Amount"|attr:"required" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_pct|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_pct"|attr:"required"|attr:"readonly" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_amt|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_amt"|attr:"required"|attr:"oninput=calc();"|attr:"name:export_bill_amt"|attr:"readonly" }} -->
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">
                                    <label for="location_name" >Price/Piece</label>
                                    <!-- <input type="text" class="form-control" value="Fabric Cost"> -->
                                    <!-- {{ form.export_bill_amount|attr:"class:form-control"|attr:"type:text"|attr:"id:export_bill_amount"|attr:"value:Export Bill Amount"|attr:"required" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" value="{{ total_avg_price }}">
                                    <!-- {{ form.export_bill_pct|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_pct"|attr:"required"|attr:"readonly" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" value="100%" >
                                    <!-- {{ form.export_bill_amt|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_amt"|attr:"required"|attr:"oninput=calc();"|attr:"name:export_bill_amt"|attr:"readonly" }} -->
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">
                                    <label for="location_name" >Final Cost/Pcs</label>
                                    <!-- <input type="text" class="form-control" value="Fabric Cost"> -->
                                    <!-- {{ form.export_bill_amount|attr:"class:form-control"|attr:"type:text"|attr:"id:export_bill_amount"|attr:"value:Export Bill Amount"|attr:"required" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_pct|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_pct"|attr:"required"|attr:"readonly" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_amt|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_amt"|attr:"required"|attr:"oninput=calc();"|attr:"name:export_bill_amt"|attr:"readonly" }} -->
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">
                                    <label for="location_name">Margin/Pcs</label>
                                    <!-- <input type="text" class="form-control" value="Fabric Cost"> -->
                                    <!-- {{ form.export_bill_amount|attr:"class:form-control"|attr:"type:text"|attr:"id:export_bill_amount"|attr:"value:Export Bill Amount"|attr:"required" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_pct|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_pct"|attr:"required"|attr:"readonly" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_amt|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_amt"|attr:"required"|attr:"oninput=calc();"|attr:"name:export_bill_amt"|attr:"readonly" }} -->
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">
                                    <label for="location_name" >BOM Margin/Pcs</label>
                                    <!-- <input type="text" class="form-control" value="Fabric Cost"> -->
                                    <!-- {{ form.export_bill_amount|attr:"class:form-control"|attr:"type:text"|attr:"id:export_bill_amount"|attr:"value:Export Bill Amount"|attr:"required" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_pct|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_pct"|attr:"required"|attr:"readonly" }} -->
                                </td>
                                <td class="text-center">
                                    <input type="text" class="form-control" >
                                    <!-- {{ form.export_bill_amt|attr:"class:form-control"|attr:"type:number"|attr:"id:export_bill_amt"|attr:"required"|attr:"oninput=calc();"|attr:"name:export_bill_amt"|attr:"readonly" }} -->
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="mt-2">
                        <button type="submit" class="btn btn-success btn-sm">Save</button>
                        <button type="submit" class="btn btn-info btn-sm">Update</button>
                        <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                        <button type="submit" class="btn btn-warning btn-sm">Refresh</button>
                    </div>
                </form>
            </div>
        </div>
        <div class="col-md-9 col-lg-9" >
            <!-- FABRIC COST  -->
            <div class="container-fluid "  id="fabricHide"  >
                <div id="accordion">
                    <div class="card inpSize" >
                      <div class="card-header" id="headingOne">
                        <h5 class="mb-0">
                          <button class="btn btn-link text-dark font-weight-bold" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                            + Fabric Cost
                          </button>
                          <span class="text-danger font-weight-bold" style="margin-left: 50%;">Approved</span>
                        </h5>
                      </div>
                  
                      <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordion">
                        <div class="card-body">
                            <form method="post" action="{% url 'pre_costing' %}" enctype="multipart/form-data" id="fc_form">
                                {% csrf_token %}
                              <input hidden name="_task" value="f_form">
                              <!-- <div class="form-group row mt-2">
                                <div class="col-sm-2 ">
                                    {{ fab_form.b_job_no|attr:"class:form-control"|attr:"hidden"}}
                                    
                                </div> -->
                              <div class="table-responsive" >
                             
                                <table class="table table-bordered table-hover table-sm table-responsive-sm add_fc" >
                                    <thead class="bg-info">
                                        <tr>
                                            <th class="text-center label" width="140px"> Gmts Item </th>
                                            <th class="text-center label" >Body Part</th>
                                            <th class="text-center" > Body Part Type </th>
                                            <th class="text-center" > Fab Nature</th>
                                            <th class="text-center" > Color Type </th>
                                            <th class="text-center" > Fabric Source </th>
                                            <th class="text-center" > Fabric Description </th>
                                            <th class="text-center" > Nominated Supp </th>
                                            <th class="text-center" > Width/Dia Type </th>
                                            <th class="text-center" > GSM/Weight </th>
                                            <th class="text-center" > Color & Size Sensitive </th>
                                            <th class="text-center" > Color  </th>
                                            <th class="text-center" > Consumtion Basis </th>
                                            <th class="text-center" > Uom </th>
                                            <th class="text-center" > Avg. Grey Cons </th>
                                            <th class="text-center" > Rate </th>
                                            <th class="text-center" > Amount </th>
                                            <th class="text-center" > Total Quantity </th>
                                            <th class="text-center" > Total Amount </th>
                                            <th class="text-center"  width="80px;">Action </th>
                                        </tr>
                                    </thead>
                                    {{ form_items_fc.management_form }}
                                    <tbody class="inline_fabric_form">
                                        {% for fc in form_items_fc %}
                                        <tr >
                                            <td >
                                                {{ fc.gmts_items|attr:"class:form-control" }}
                                            </td>
                                            <td >
                                                {{ fc.body_part|attr:"class:form-control" }}
                                            </td>
                                            <td >
                                                {{ fc.body_part_type|attr:"class:form-control"}}
                                            </td>
                                            <td >
                                                {{ fc.fab_nature|attr:"class:form-control" }}
                                            </td>
                                            <td >
                                                {{ fc.color_type|attr:"class:form-control" }}
                                            </td>
                                            <td >
                                                {{ fc.fabric_source|attr:"class:form-control" }}
                                            </td>
                                            <td >
                                                {{ fc.fabric_desc|attr:"class:form-control"|attr:"data-target:#fabricDesc"|attr:"data-toggle:modal"|attr:"onclick:passID(id)" }}
                                            </td>
                                            <td >
                                                {{ fc.nom_supplier|attr:"class:form-control" }}
                                            </td>
                                            <td >
                                                {{ fc.width_dia|attr:"class:form-control" }}
                                            </td>
                                           
                                            
                                            <td >
                                            
                                                {{ fc.gms|attr:"class:form-control" }}
                                            </td>
                                            <td >
                                                {{ fc.cs_sensitive|attr:"class:form-control" }}
                                            </td>
                                            <td >
                                                 {{ fc.color|attr:"class:form-control"}}
    
                                            </td>
                                            <td >
                                                {{ fc.con_basis|attr:"class:form-control"}}
                                            </td>
                                           
                                            <td >
                                                {{ fc.uom|attr:"class:form-control" }}
                                            </td>
                                            
                                            <td >
                                                {{ fc.avg_grey_cons|attr:"class:form-control"|attr:"type:number"|attr:"data-target:#colorSizeInline"|attr:"data-toggle:modal"|attr:"onclick:passColor(id)" }}
                                            </td>
                                            <td >
                                                {{ fc.rate|attr:"class:form-control"|attr:"type:number" }}
                                            </td>

                                            <td >
                                                {{ fc.amount|attr:"class:form-control"|attr:"type:number" }}
                                            </td>
                                            <td >
                                                {{ fc.total_quantity|attr:"class:form-control"|attr:"type:number" }}
                                            </td>
                                            <td >
                                                {{ fc.total_amount|attr:"class:form-control"|attr:"type:number" }}
                                            </td>
                                            
                                            <td class="removefc text-center">
                                            </td>
                                        </tr>
                                        {% endfor %}
                                        
                                    </tbody>
                                    
                                </table>
                             </div>
                             <div>
                                <button type="submit" onclick="getYarn()" class="btn btn-success btn-sm">Save</button>
                                
                            </div>
                            </form>
                            
                        </div>
                      </div>
                    </div>
                    <div class="card">
                      <div class="card-header" id="headingTwo">
                        <h5 class="mb-0">
                          <button class="btn btn-link collapsed text-dark font-weight-bold" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                            + Yarn Cost
                          </button><span class="text-danger font-weight-bold" style="margin-left: 50%;">Approved</span>
                        </h5>
                      </div>
                      <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
                        <div class="card-body">
                            <div class="table-responsive" >
    
                                <table class="table table-bordered table-hover table-sm table-responsive-sm add_yc" >
                                    <thead class="bg-info">
                                        <tr>
                                            <th class="text-center label"> Count </th>
                                            <th class="text-center label" >Comp1</th>
                                            <th class="text-center" > %</th>
                                            <th class="text-center" > Color</th>
                                            <th class="text-center" > Type </th>
                                            <th class="text-center" > Cons Qnty </th>
                                            <th class="text-center" > Supplier </th>
                                            <th class="text-center" > Rate </th>
                                            <th class="text-center" > Amount</th>
                                            
                                        </tr>
                                    </thead>
                                    {{ form_items_yc.management_form }}
                                    <tbody class="inline_yarn_form">
                                        {% for yc in form_items_yc %}
                                        <tr >
                                            <td >
                                                {{ yc.count|attr:"class:form-control"}}
                                            </td>
                                            <td >
                                                {{ yc.comp_one|attr:"class:form-control"}}
                                            </td>
                                            <td >
                                                {{ yc.pct|attr:"class:form-control"}}
                                            </td>
                                            <td >
                                                {{ yc.color|attr:"class:form-control"}}
                                            </td>
                                            <td >
                                                {{ yc.type|attr:"class:form-control"}}
                                            </td>
                                            <td >
                                                {{ yc.cons_qty|attr:"class:form-control"}}
                                            </td>
                                            <td >
                                                {{ yc.supplier|attr:"class:form-control"}}
                                            </td>
                                            <td >
                                                {{ yc.rate|attr:"class:form-control"}}
                                            </td>
                                            <td >
                                                {{ yc.amount|attr:"class:form-control"}}
                                            </td>
                                            <td class="removeyc text-center">
                                            </td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                    <tfoot class="font-weight-bold">
                                        <tr>
                                            <td colspan="5" class="text-right">
                                               SUM:
                                            </td>
                                            <td colspan=""  >  
                                                <input type="number" class="form-control" value="0">
                                            </td>
                                            <td colspan=""  >  
                                            </td>
                                            <td colspan=""  >  
                                            </td>
                                            <td colspan=""  >  
                                                <input type="number" class="form-control" value="0">
                                            </td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                            <div>
                                <button type="submit" class="btn btn-success btn-sm">Save</button>
                                <button type="submit" class="btn btn-info btn-sm">Update</button>
                                <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                                <button type="submit" class="btn btn-warning btn-sm">Refresh</button>
                            </div>
                            
    
                        </div>
                      </div>
                    </div>
                    <div class="card">
                      <div class="card-header" id="headingThree">
                        <h5 class="mb-0">
                          <button class="btn btn-link collapsed text-dark font-weight-bold" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                            + Conversion Cost
                          </button><span class="text-danger font-weight-bold" style="margin-left: 50%;">Approved</span>
                        </h5>
                      </div>
                      <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordion">
                        <div class="card-body">
                            <div class="table-responsive" >
    
                                <table class="table table-bordered table-hover table-sm table-responsive-sm" >
                                    <thead class="bg-info">
                                        <!-- <tr>
                                            <th class="text-center text-uppercase " colspan="19">
                                                <h5 class="text-danger">Approved</h5>
                                            </th>
                                        </tr> -->
                                        <tr>
                                            <th class="text-center label"> Fabric Description </th>
                                            <th class="text-center label" >Process</th>
                                            <th class="text-center" > Process Loss</th>
                                            <th class="text-center" > Req. Qty</th>
                                            <th class="text-center" > Avg. Req. Qty(Less Process Loss) </th>
                                            <th class="text-center" > Charge/Unit </th>
                                            <th class="text-center" > Amount </th>
                                            <th class="text-center" > Status </th>
                                            <th class="text-center" width="90px" > </th>
                                            
                                        </tr>
                                    </thead>
                                    <tbody >
                                        <tr >
                                            <td >
                                                <select name="" class="form-control" >
                                                    <option value="" disabled selected>Select</option>
                                                    <option>T-Shirt-Short Sleeve</option>
                                                    <option>T-Shirt-Full Sleeve</option>
                                                    
                                                </select>
                                                <!-- {{ form.order_uom|attr:"class:form-control"|attr:"required" }} -->
                                            </td>
                                            <td >
                                                <select name="" class="form-control" >
                                                    <option value="" disabled selected>Select</option>
                                                    <option>T-Shirt-Short Sleeve</option>
                                                    <option>T-Shirt-Full Sleeve</option>
                                                    
                                                </select>
                                                <!-- {{ form.order_uom|attr:"class:form-control"|attr:"required" }} -->
                                            </td>
                                            <td >
                                                <input type="number" class="form-control" value="0">
                                                 <!-- {{ form.smv|attr:"class:form-control"|attr:"type:text"|attr:"placeholder:SMV"}} -->
    
                                            </td>
                                            <td >
                                                <input type="number" class="form-control" value="0">
                                                 <!-- {{ form.smv|attr:"class:form-control"|attr:"type:text"|attr:"placeholder:SMV"}} -->
    
                                            </td>
                                            <td >
                                                <input type="number" class="form-control" value="0">
                                                 <!-- {{ form.smv|attr:"class:form-control"|attr:"type:text"|attr:"placeholder:SMV"}} -->
    
                                            </td>
                                            
                                            <td >
                                                <input type="number" class="form-control" value="0">
                                                <!-- {{ form.order_uom|attr:"class:form-control"|attr:"required" }} -->
                                            </td>
                                            
                                            <td >
                                                <input type="number" class="form-control" value="0">
                                                 <!-- {{ form.smv|attr:"class:form-control"|attr:"type:text"|attr:"placeholder:SMV"}} -->
    
                                            </td>
                                           
                                            <td >
                                                <select name="" class="form-control" >
                                                    <option value="" disabled selected>Select</option>
                                                    <option>Active</option>
                                                    <option>Inactive</option>
                                                    
                                                </select>
                                                <!-- {{ form.order_uom|attr:"class:form-control"|attr:"required" }} -->
                                            </td>
                                            <td><button type="button" class="btn btn-sm btn-success"><i class="fa fa-plus" aria-hidden="true"></i></button>
                                                <a  type="button" class="btn btn-sm btn-danger ml-1"><i class="fa fa-times" aria-hidden="true"></i></a>
                                            </td>
                                           
                                           
    
                                            
                                        </tr>
                                        
                                    </tbody>
                                    <tfoot class="font-weight-bold">
                                        <tr>
                                            <td colspan="2" class="text-right">
                                               SUM:
                                            </td>
                                            
                                            <td colspan=""  >  
                                                <input type="number" class="form-control" value="0">
                                            </td>
                                            <td colspan=""  >  
                                                <input type="number" class="form-control" value="0">
                                            </td>
                                           
                                            <td colspan=""  >  
                                                <input type="number" class="form-control" value="0">
                                            </td>
                                            <td colspan=""  >  
                                                <input type="number" class="form-control" value="0">
                                            </td>
                                           
                                        </tr>
                                        
                                      </tfoot>
                                    
                                </table>
                            </div>
                            
                            <div>
                                <button type="submit" class="btn btn-success btn-sm">Save</button>
                                <button type="submit" class="btn btn-info btn-sm">Update</button>
                                <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                                <button type="submit" class="btn btn-warning btn-sm">Refresh</button>
                            </div>
                            
    
                        </div>
                      </div>
                    </div>
                </div>
            </div>
            <!-- TRIM COST  -->
            <div class="container-fluid" id="trimHide">
                <div id="accordion">
                    <div class="card inpSize">
                      <div class="card-header" id="trimCollapse">
                        <h5 class="mb-0">
                          <button class="btn btn-link text-dark font-weight-bold" data-toggle="collapse" data-target="#collapseTrim" aria-expanded="true" aria-controls="collapseTrim">
                            + Trim Cost
                          </button><span class="text-danger font-weight-bold" style="margin-left: 50%;">Approved</span>
                        </h5>
                      </div>
                  
                      <div id="collapseTrim" class="collapse show" aria-labelledby="trimCollapse" data-parent="#accordion">
                        <div class="card-body">
                            <div class="table-responsive" >
                                <table class="table table-bordered table-hover table-sm table-responsive" >
                                    <thead class="bg-info">
                                        <tr>
                                            <th class="text-center"> Seq. </th>
                                            <th class="text-center " >Group</th>
                                            <th class="text-center" > Country</th>
                                            <th class="text-center" > Description</th>
                                            <th class="text-center" > Brand/Sup Ref </th>
                                            <th class="text-center" > Remarks </th>
                                            <th class="text-center" > Nominated Supp</th>
                                            <th class="text-center" > Cons UOM </th>
                                            <th class="text-center" > Cons/Unit Gmts</th>
                                            <th class="text-center" > Rate</th>
                                            <th class="text-center" > Amount</th>
                                            <th class="text-center" > Total Qty</th>
                                            <th class="text-center" > Total Amount</th>
                                            <th class="text-center" > Apvt </th>
                                            <th class="text-center" > Image</th>
                                            <th class="text-center" width="90px" > </th>
                                            
                                        </tr>
                                    </thead>
                                    <tbody >
                                        <tr >
                                            <td >
                                                <input type="number" class="form-control" value="1">
                                                <!-- {{ form.order_uom|attr:"class:form-control"|attr:"required" }} -->
                                            </td>
                                            <td >
                                                <input type="text" class="form-control">
                                                <!-- {{ form.order_uom|attr:"class:form-control"|attr:"required" }} -->
                                            </td>
                                            <td >
                                                <input type="text" class="form-control" placeholder="Browse">
                                                 <!-- {{ form.smv|attr:"class:form-control"|attr:"type:text"|attr:"placeholder:SMV"}} -->
            
                                            </td>
                                            <td >
                                                <input type="text" class="form-control" placeholder="Description">
                                                 <!-- {{ form.smv|attr:"class:form-control"|attr:"type:text"|attr:"placeholder:SMV"}} -->
            
                                            </td>
                                            <td >
                                                <input type="text" class="form-control">
                                                <!-- {{ form.order_uom|attr:"class:form-control"|attr:"required" }} -->
                                            </td>
                                            <td >
                                                <input type="text" class="form-control">
                                                <!-- {{ form.order_uom|attr:"class:form-control"|attr:"required" }} -->
                                            </td>
                                            <td >
                                                <input type="text" class="form-control" placeholder="Browse">
                                                 <!-- {{ form.smv|attr:"class:form-control"|attr:"type:text"|attr:"placeholder:SMV"}} -->
            
                                            </td>
                                            
                                            <td >
                                                <select name="" class="form-control" >
                                                    <option value="" disabled selected>Select</option>
                                                    <option>Dzn</option>
                                                    <option>Pcs</option>
                                                    
                                                </select>
                                                <!-- {{ form.order_uom|attr:"class:form-control"|attr:"required" }} -->
                                            </td>
                                            
                                            <td >
                                                <input type="number" class="form-control" value="0">
                                                 <!-- {{ form.smv|attr:"class:form-control"|attr:"type:text"|attr:"placeholder:SMV"}} -->
            
                                            </td>
                                            <td >
                                                <input type="number" class="form-control" value="0">
                                                 <!-- {{ form.smv|attr:"class:form-control"|attr:"type:text"|attr:"placeholder:SMV"}} -->
            
                                            </td>
                                            <td >
                                                <input type="number" class="form-control" value="0">
                                                 <!-- {{ form.smv|attr:"class:form-control"|attr:"type:text"|attr:"placeholder:SMV"}} -->
            
                                            </td>
                                            <td >
                                                <input type="text" class="form-control" placeholder="Click To Load">
                                                 <!-- {{ form.smv|attr:"class:form-control"|attr:"type:text"|attr:"placeholder:SMV"}} -->
            
                                            </td>
                                            <td >
                                                <input type="number" class="form-control" value="0">
                                                 <!-- {{ form.smv|attr:"class:form-control"|attr:"type:text"|attr:"placeholder:SMV"}} -->
            
                                            </td>
                                           
                                            <td >
                                                <select name="" class="form-control" >
                                                    <option value="" disabled selected>Select</option>
                                                    <option>Yes</option>
                                                    <option>No</option>
                                                    
                                                </select>
                                                <!-- {{ form.order_uom|attr:"class:form-control"|attr:"required" }} -->
                                            </td>
                                            <td >
                                                <input type="file" class="form-control" >
                                                <!-- {{ form.order_uom|attr:"class:form-control"|attr:"required" }} -->
                                            </td>
                                            <td><button type="button" class="btn btn-sm btn-success"><i class="fa fa-plus" aria-hidden="true"></i></button>
                                                <a  type="button" class="btn btn-sm btn-danger ml-1"><i class="fa fa-times" aria-hidden="true"></i></a>
                                            </td>
                                        </tr>
                                    </tbody>
                                    <tfoot class="font-weight-bold">
                                        <tr>
                                            <td colspan="8" class="text-right">
                                               SUM:
                                            </td>
                                            
                                            <td colspan=""  >  
                                                <input type="number" class="form-control" value="0">
                                            </td>
                                            <td colspan=""  >  
                                                <input type="number" class="form-control" value="0">
                                            </td>
                                           
                                            <td colspan=""  >  
                                                <input type="number" class="form-control" value="0">
                                            </td>
                                            <td colspan=""  >  
                                                <input type="number" class="form-control">
                                            </td>
                                            <td colspan=""  >  
                                                <input type="number" class="form-control" value="0">
                                            </td>
                                        </tr>
                                      </tfoot>
                                </table>
                            </div>
                            <div>
                                <button type="submit" class="btn btn-success btn-sm">Save</button>
                                <button type="submit" class="btn btn-info btn-sm">Update</button>
                                <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                                <button type="submit" class="btn btn-warning btn-sm">Refresh</button>
                            </div>
                        </div>
                      </div>
                    </div>
                </div>
            </div>
            <!-- EMBLLISHMENT COST  -->
            <div class="container-fluid" id="embllishHide">
                <div id="accordion">
                    <div class="card">
                      <div class="card-header" id="EmbCollapse">
                        <h5 class="mb-0">
                          <button class="btn btn-link text-dark font-weight-bold" data-toggle="collapse" data-target="#collapseEmb" aria-expanded="true" aria-controls="collapseEmb">
                            + Embellishment Cost
                          </button><span class="text-danger font-weight-bold" style="margin-left: 50%;">Approved</span>
                        </h5>
                      </div>
                  
                      <div id="collapseEmb" class="collapse show" aria-labelledby="EmbCollapse" data-parent="#accordion">
                        <div class="card-body">
                            <div class="table-responsive" >
                                <table class="table table-bordered table-hover table-sm table-responsive-sm" >
                                    <thead class="bg-info">
                                        <tr>
                                            <th class="text-center"> Name </th>
                                            <th class="text-center " >Type</th>
                                            <th class="text-center" > Body Part</th>
                                            <th class="text-center" > Country</th>
                                            <th class="text-center" > Emb. Supplier </th>
                                            <th class="text-center" > Cons/1 Dzn Gmts </th>
                                            <th class="text-center" > Rate</th>
                                            <th class="text-center" > Amount</th>
                                            <th class="text-center" > Status</th>
                                            <th class="text-center" width="90px" > </th>
                                        </tr>
                                    </thead>
                                    <tbody >
                                        <tr >
                                            <td >
                                                <select name="" class="form-control" >
                                                    <option value="" disabled selected>Select</option>
                                                    <option>Printing</option>
                                                    <option>Others</option>
                                                </select>
                                            </td>
                                            <td >
                                                <select name="" class="form-control" >
                                                    <option value="" disabled selected>Select</option>
                                                    <option>Dzn</option>
                                                    <option>Pcs</option>
                                                </select>
                                            </td>
                                            <td >
                                                <select name="" class="form-control" >
                                                    <option value="" disabled selected>Select</option>
                                                    <option>Dzn</option>
                                                    <option>Pcs</option>
                                                </select>
                                            </td>
                                            <td >
                                                <input type="text" class="form-control" placeholder="Browse" data-toggle="modal" data-target="#country">
                                            </td>
                                            <td >
                                                <input type="text" class="form-control" placeholder="Write">
                                            </td>
                                            <td >
                                                <input type="text" class="form-control">
                                            </td>
                                            <td >
                                                <input type="text" class="form-control" >
            
                                            </td>
                                            <td >
                                                <input type="text" class="form-control" >
            
                                            </td>
                                            
                                            <td >
                                                <select name="" class="form-control" >
                                                    <option value="" disabled selected>Select</option>
                                                    <option>Active</option>
                                                    <option>Inactive</option>
                                                </select>
                                            </td>
                                            <td><button type="button" class="btn btn-sm btn-success"><i class="fa fa-plus" aria-hidden="true"></i></button>
                                                <a  type="button" class="btn btn-sm btn-danger ml-1"><i class="fa fa-times" aria-hidden="true"></i></a>
                                            </td>
                                        </tr>
                                    </tbody>
                                    <tfoot class="font-weight-bold">
                                        <tr>
                                            <td colspan="6" class="text-right">
                                               SUM:
                                            </td>
                                            <td colspan=""  >  
                                                <input type="number" class="form-control" value="0">
                                            </td>
                                            <td colspan=""  >  
                                                <input type="number" class="form-control" value="0">
                                            </td>
                                        </tr>
                                      </tfoot>
                                </table>

                            </div>
                            <div>
                                <button type="submit" class="btn btn-success btn-sm">Save</button>
                                <button type="submit" class="btn btn-info btn-sm">Update</button>
                                <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                                <button type="submit" class="btn btn-warning btn-sm">Refresh</button>
                            </div>
                        </div>
                      </div>
                    </div>
                </div>
            </div>
            <!-- WASH COST  -->
            <div class="container-fluid" id="washHide">
                <div id="accordion">
                    <div class="card">
                      <div class="card-header" id="washCollapse">
                        <h5 class="mb-0">
                          <button class="btn btn-link text-dark font-weight-bold" data-toggle="collapse" data-target="#collapseWash" aria-expanded="true" aria-controls="collapseWash">
                            + Wash Cost
                          </button><span class="text-danger font-weight-bold" style="margin-left: 50%;">Approved</span>
                        </h5>
                      </div>
                      <div id="collapseWash" class="collapse show" aria-labelledby="washCollapse" data-parent="#accordion">
                        <div class="card-body">
                            <div class="table-responsive" >
                                <table class="table table-bordered table-hover table-sm table-responsive-sm" >
                                    <thead class="bg-info">
                                        <tr>
                                            <th class="text-center"> Name </th>
                                            <th class="text-center " >Type</th>
                                            <th class="text-center" > Country</th>
                                            <th class="text-center" > Cons/1 Dzn Gmts </th>
                                            <th class="text-center" > Rate</th>
                                            <th class="text-center" > Amount</th>
                                            <th class="text-center" > Status</th>
                                            <th class="text-center" width="90px" > </th>
                                        </tr>
                                    </thead>
                                    <tbody >
                                        <tr >
                                            <td >
                                                <select name="" class="form-control" >
                                                    <option value="" disabled selected>Select</option>
                                                    <option>Printing</option>
                                                    <option>Others</option>
                                                </select>
                                            </td>
                                            <td >
                                                <select name="" class="form-control" >
                                                    <option value="" disabled selected>Select</option>
                                                    <option>Dzn</option>
                                                    <option>Pcs</option>
                                                </select>
                                            </td>
                                            <td >
                                                <input type="text" class="form-control" placeholder="Browse">
                                            </td>
                                            <td >
                                                <input type="text" class="form-control" placeholder="Browse">
                                            </td>
                                            <td >
                                                <input type="text" class="form-control" >
                                            </td>
                                            <td >
                                                <input type="text" class="form-control" >
                                            </td>
                                            <td >
                                                <select name="" class="form-control" >
                                                    <option value="" disabled selected>Select</option>
                                                    <option>Active</option>
                                                    <option>Inactive</option>
                                                </select>
                                            </td>
                                            <td><button type="button" class="btn btn-sm btn-success"><i class="fa fa-plus" aria-hidden="true"></i></button>
                                                <a  type="button" class="btn btn-sm btn-danger ml-1"><i class="fa fa-times" aria-hidden="true"></i></a>
                                            </td>
                                        </tr>
                                    </tbody>
                                    <tfoot class="font-weight-bold">
                                        <tr>
                                            <td colspan="5" class="text-right">
                                               SUM:
                                            </td>
                                            <td colspan=""  >  
                                                <input type="number" class="form-control" value="0">
                                            </td>
                                        </tr>
                                      </tfoot>
                                </table>
                            </div>
                            <div>
                                <button type="submit" class="btn btn-success btn-sm">Save</button>
                                <button type="submit" class="btn btn-info btn-sm">Update</button>
                                <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                                <button type="submit" class="btn btn-warning btn-sm">Refresh</button>
                            </div>
                        </div>
                      </div>
                    </div>
                </div>
            </div>
            <!-- COMMERCIAL COST  -->
            <div class="container-fluid" id="commercialHide">
                <div id="accordion">
                    <div class="card">
                      <div class="card-header" id="commCollapse">
                        <h5 class="mb-0">
                          <button class="btn btn-link text-dark font-weight-bold" data-toggle="collapse" data-target="#collapseComm" aria-expanded="true" aria-controls="collapseComm">
                            + Commercial Cost
                          </button><span class="text-danger font-weight-bold" style="margin-left: 50%;">Approved</span>
                        </h5>
                      </div>
                      <div id="collapseComm" class="collapse show" aria-labelledby="commCollapse" data-parent="#accordion">
                        <div class="card-body">
                            <div class="table-responsive" >
                                <table class="table table-bordered table-hover table-sm table-responsive-sm" >
                                    <thead class="bg-info">
                                        <tr>
                                            <th class="text-center"  width="180px"> Item </th>
                                            <th class="text-center " >Rate In %</th>
                                            <th class="text-center" > Amount</th>
                                            <th class="text-center" > Status</th>
                                            <th class="text-center" width="90px" > </th>
                                        </tr>
                                    </thead>
                                    <tbody >
                                        <tr >
                                            <td >
                                                <select name="" class="form-control" >
                                                    <option value="" disabled selected>Select</option>
                                                    <option>Printing</option>
                                                    <option>Others</option>
                                                </select>
                                            </td>
                                            <td >
                                                <input type="number" class="form-control" value="0">
                                            </td>
                                            <td >
                                                <input type="number" class="form-control" value="0">
                                            </td>
                                            <td >
                                                <select name="" class="form-control" >
                                                    <option value="" disabled selected>Select</option>
                                                    <option>Active</option>
                                                    <option>Inactive</option>
                                                </select>
                                            </td>
                                            <td><button type="button" class="btn btn-sm btn-success"><i class="fa fa-plus" aria-hidden="true"></i></button>
                                                <a  type="button" class="btn btn-sm btn-danger ml-1"><i class="fa fa-times" aria-hidden="true"></i></a>
                                            </td>
                                        </tr>
                                    </tbody>
                                    <tfoot class="font-weight-bold">
                                        <tr>
                                            <td colspan="1" class="text-right">
                                               SUM:
                                            </td>
                                            <td colspan=""  >  
                                                <input type="number" class="form-control" value="0">
                                            </td>
                                            <td colspan=""  >  
                                                <input type="number" class="form-control" value="0">
                                            </td>
                                        </tr>
                                      </tfoot>
                                </table>
                            </div>
                            <div>
                                <button type="submit" class="btn btn-success btn-sm">Save</button>
                                <button type="submit" class="btn btn-info btn-sm">Update</button>
                                <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                                <button type="submit" class="btn btn-warning btn-sm">Refresh</button>
                            </div>
                        </div>
                      </div>
                    </div>
                </div>
            </div>
            <!-- COMMISSION  -->
            <div class="container-fluid" id="commissionHide">
                <div id="accordion">
                    <div class="card">
                      <div class="card-header" id="cmsnCollapse">
                        <h5 class="mb-0">
                          <button class="btn btn-link text-dark font-weight-bold" data-toggle="collapse" data-target="#collapseCmsn" aria-expanded="true" aria-controls="collapseCmsn">
                            + Commission
                          </button><span class="text-danger font-weight-bold" style="margin-left: 50%;">Approved</span>
                        </h5>
                      </div>
                      <div id="collapseCmsn" class="collapse show" aria-labelledby="cmsnCollapse" data-parent="#accordion">
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-bordered table-hover table-sm table-responsive-sm" >
                                    <thead class="bg-info">
                                        <tr>
                                            <th class="text-center"  width="180px"> Item </th>
                                            <th class="text-center " >Rate In %</th>
                                            <th class="text-center" > Amount</th>
                                            <th class="text-center" > Status</th>
                                            <th class="text-center" width="90px" > </th>
                                        </tr>
                                    </thead>
                                    <tbody >
                                        <tr >
                                            <td >
                                                <select name="" class="form-control" >
                                                    <option value="" disabled selected>Select</option>
                                                    <option>Printing</option>
                                                    <option>Others</option>
                                                </select>
                                            </td>
                                            <td >
                                                <input type="number" class="form-control" value="0">
                                            </td>
                                            <td >
                                                <input type="number" class="form-control" value="0">
                                            </td>
                                            <td >
                                                <select name="" class="form-control" >
                                                    <option value="" disabled selected>Select</option>
                                                    <option>Active</option>
                                                    <option>Inactive</option>
                                                </select>
                                            </td>
                                            <td><button type="button" class="btn btn-sm btn-success"><i class="fa fa-plus" aria-hidden="true"></i></button>
                                                <a  type="button" class="btn btn-sm btn-danger ml-1"><i class="fa fa-times" aria-hidden="true"></i></a>
                                            </td>
                                        </tr>
                                    </tbody>
                                    <tfoot class="font-weight-bold">
                                        <tr>
                                            <td colspan="1" class="text-right">
                                               SUM:
                                            </td>
                                            <td colspan=""  >  
                                                <input type="number" class="form-control" value="0">
                                            </td>
                                            <td colspan=""  >  
                                                <input type="number" class="form-control" value="0">
                                            </td>
                                        </tr>
                                      </tfoot>
                                </table>
                            </div>
                            <div>
                                <button type="submit" class="btn btn-success btn-sm">Save</button>
                                <button type="submit" class="btn btn-info btn-sm">Update</button>
                                <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                                <button type="submit" class="btn btn-warning btn-sm">Refresh</button>
                            </div>
                        </div>
                      </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

   <!----------------------------- Modal Start -------------------------------------------------->
   <!-- Embellishment Modal Country Modal inside Embellishment-->
    <!-- <div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"  id="colorSizeInline">
            <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="modal-body">
                </div>
                <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
            </div>
    </div> -->
 <!-- FABRIC DESCRIPTION TABLE FOR SELECTING FABRIC CONSUMPTION  -->
 <div class="modal fade " id="fabricDesc" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg  " role="document">

        <div class="container">
            <div class="modal-content  ">
                <div class="modal-header">
                <h6 class="modal-title" id="exampleModalLabel">Fabric Description</h6>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="modal-body ">
                   
                    <table id="fabric_desc_report" class="table table-bordered table-striped table-responsive table-sm table-responsive-sm table-hover  display" >
                        <thead class="text-center bg-meroon">
                            <tr>
                                <th >S/L No.</th>
                                <th>Fabric Nature </th>
                                <th>Construction</th>
                                <th>GSM/Weight</th>
                                <th >Color</th>
                                <th >Stich Length</th>
                                <th >Process Loss</th>
                                <th width="400">Fabric Composition</th>
                                <th >Action</th>
                            </tr>
                        </thead>
                        <tfoot id="tfooter">
                            <tr>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th width="300"></th>
                                <th></th>
                            </tr>
                        </tfoot>
                        <tbody class="text-center">
                            {% for i in fab_desc %}
                            <tr id="td-{{forloop.counter}}">
                                <td>{{forloop.counter}}</td>
                                <td>{{i.fab_nature}}</td>
                                <td>{{i.construction}}</td>
                                <td>{{i.gsm_weight}}</td>
                                <td>{{i.color_range}}</td>
                                <td>{{i.stich_length}}</td>
                                <td>{{i.process_loss}}</td>
                                <td>
                                    {% if i.yarn_one_pct and i.yarn_one %}
                                    {{i.yarn_one_pct}} {{i.yarn_one}}
                                    {% endif %}
                                    {% if i.yarn_two_pct and i.yarn_two %}
                                    {{i.yarn_two_pct}} {{i.yarn_two}}
                                    {% endif %}
                                     ( 
                                     {% if i.yarn_count_one and i.yarn_type_one %}
                                    {{i.yarn_count_one}} {{i.yarn_type_one}} 
                                    {% endif %}
                                    {% if i.yarn_count_two and  i.yarn_type_two %}
                                    + {{i.yarn_count_two}} {{i.yarn_type_two}} 
                                    {% endif %}
                                    )
                                </td>
                                <td><button id="btn-{{forloop.counter}}" class="btn btn-sm btn-success btnSelect" onclick="fabricationDes(id)"><i class="fa fa-check "></i></button> </td>
                            </tr>
                            {% endfor %}
                            
                        </tbody>
                        
                    </table>

                </div>
            </div>
        </div>
    </div>
</div>
    <!-- COLOR SIZE INLINES TABLE   -->
<div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"  id="colorSizeInline" >
    <div class="modal-dialog modal-lg  " >
        <div class="container-fluid">
            <form method="POST" id="color" action="{% url 'pre_costing' %}">
                {% csrf_token %}
                <input type="hidden" name="_task" value="grey_data">
                <div class="modal-content  ">
                    <div class="modal-header">
                    <h6 class="modal-title" id="exampleModalLabel">Color & Size: Average Grey Consumption</h6>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    </div>
                    <div class="modal-body">
                        <div class="d-flex justify-content-center bd-highlight mb-1 mt-1">
                            <div class="p-2 bd-highlight ml-3">  <input type="checkbox"> <strong>Copy:</strong></div>
                            <div class="p-2 bd-highlight ml-3"><input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="option1" > Color </div>
                            <div class="p-2 bd-highlight ml-3"> <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios2" value="option2" > Size</div>
                            <div class="p-2 bd-highlight ml-3"> <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios3" value="option3" > PO</div>
                            <div class="p-2 bd-highlight ml-3"> <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios2" value="option2" > Size & Color</div>
                        </div>
                    
                        <table id="" class="table table-bordered table-striped  table-sm table-responsive-sm table-hover  table-info  display" >
                            <thead class="text-center bg-info">
                                <tr>
                                    <th>S/L</th>
                                    <th>PO NO.</th>
                                    <th>Color</th>
                                    <th>Gmts Sizes</th>
                                    <th>Dia</th>
                                    <th>Item Sizes</th>
                                    <th>Finish Cons (kg)</th>
                                    <th>Process Loss %</th>
                                    <th>Grey Cons (kg)</th>
                                    <th>Rate</th>
                                    <th>Amount</th>
                                    <th>Pcs</th>
                                    <th>Total Qty</th>
                                    <th>Total Amount</th>
                                    <th>Remarks</th>
                                </tr>
                            </thead>
                            <tbody id="base_body" class="text-center">
                                {% for i in color %}
                                <tr id="base_tr">
                                    <td>{{ forloop.counter }}</td>                         
                                    <td><input type="text" class="form-control" value="{{ i.po }}"></td>                         
                                    <td><input type="text" class="form-control" value="{{ i.color }}"></td>                         
                                    <td><input type="text" class="form-control" value="{{ i.size  }}"></td>
                                    <td><input type="text" name="dia_{{ forloop.counter }}" class="form-control"></td>
                                    <td><input type="text" name="" class="form-control"></td>
                                    <td><input type="text" name="" class="form-control"></td>
                                    <td><input type="text" name="" class="form-control"></td>
                                    <td><input type="text" name="" class="form-control"></td>
                                    <td><input type="text" name="" class="form-control"></td>
                                    <td><input type="text" name="" class="form-control"></td>
                                    <td><input type="text" name="" class="form-control"></td>
                                    <td><input type="text" name="" class="form-control"></td>
                                    <td><input type="text" name="" class="form-control"></td>
                                    <td><input type="text" name="" class="form-control"></td>
                                    <input type="hidden" name="id_{{ forloop.counter }}" value="{{ i.id }}">
                                </tr>
                                {% endfor %}
                                <input type="hidden" name="__po_job" value="{{ fetch.job_no }}">
                                <input type="hidden" name="__inline_index">
                            </tbody>
                            <tfoot class="font-weight-bold">
                                    <tr>
                                        <td colspan="6" class="text-right">
                                           Total:
                                        </td>
                                        <td>  
                                            <input type="text" class="form-control">
                                        </td>
                                        <td> 
                                            <input type="text" class="form-control"> 
                                        </td>
                                        <td>  
                                            <input type="text" class="form-control">
                                        </td>
                                        <td>  
                                            <input type="text" class="form-control">
                                        </td>
                                        <td>  
                                            <input type="text" class="form-control">
                                        </td>
                                        <td>  
                                            <input type="text" class="form-control">
                                        </td>
                                        <td>  
                                            <input type="text" class="form-control">
                                        </td>
                                        <td>  
                                            <input type="text" class="form-control">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="6" class="text-right">
                                           Average:
                                        </td>
                                        <td>  
                                            <input type="text" class="form-control">
                                        </td>
                                        <td> 
                                            <input type="text" class="form-control"> 
                                        </td>
                                        <td>  
                                            <input type="text" class="form-control">
                                        </td>
                                        <td>  
                                            <input type="text" class="form-control">
                                        </td>
                                        <td>  
                                            <input type="text" class="form-control">
                                        </td>
                                        <td>  
                                            <input type="text" class="form-control">
                                        </td>
                                        <td>  
                                            <input type="text" class="form-control">
                                        </td>
                                        <td>  
                                            <input type="text" class="form-control">
                                        </td>
                                    </tr>
                            </tfoot>
                        </table>
                    </div>
                    <div class="modal-footer justify-content-center">
                        <button type="submit" class="btn btn-success btn-sm">Save</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<div id="copy_inline_div"></div>
  <!----------------------------------- Modal End -------------------------------------->

{% endblock body %}

{% block script %}
<!-- FOR Fabric COST INLINE  -->
<script type="text/javascript">
    $(function() {
        $('.inline_fabric_form').formset({
            prefix: '{{ form_items_fc.prefix }}',
            addText: '+ Add More',
            deleteText: 'X',
            addContainerClass:"add_fc",
            addCssClass:"btn btn-sm btn-warning mt-4 mb-3",
            deleteCssClass:"btn btn-sm btn-danger",
            deleteContainerClass:"removefc",
        });
    });
</script>
<!-- FOR YARN COST INLINE  -->
<script type="text/javascript">
    $(function() {
        $('.inline_yarn_form').formset({
            prefix: '{{ form_items_yc.prefix }}',
            addText: '+ Add More',
            deleteText: 'X',
            addContainerClass:"add_yc",
            addCssClass:"btn btn-sm btn-warning mt-4 mb-3 mb-yarn",
            deleteCssClass:"btn btn-sm btn-danger",
            deleteContainerClass:"removeyc",
        });
    });
</script>

<script>
    var working_id = 0
    var count = 1
    var modalCount = 0
    var wModal = []

    function update(){
        count++
    }

    function passColor(id){
        var a = document.getElementById('colorSizeInline')
        if(rightID(id) != 0){
            if(wModal.includes(rightID(id)) == false){
                document.getElementById('copy_inline_div').append(a.cloneNode(true))
                document.getElementById("color").reset()
                document.getElementById('copy_inline_div').lastChild.id = `colorSizeInline${modalCount}`
                document.getElementById('id_fabric_inline-V-avg_grey_cons'.replaceAt(17, rightID(id)-1)).dataset.target = `#colorSizeInline${modalCount}`
                document.getElementById("copy_inline_div").lastChild.childNodes[1].childNodes[1].childNodes[1].id = ''
                wModal.push(rightID(id))
                modalCount++
            }
        }
    }

    function rightID(id){
        var numPre = []
        var number = 0
        for(var i=0; i<id.length; i++){
            if(parseInt(id[i]) || id[i] == '0'){
                numPre.push(parseInt(id[i]))
            }
        }
        for(var i = 0; i<numPre.length; i++){
            number += numPre[i] * (10 ** (numPre.length - (i+1)))
        }
        return number
    }

    String.prototype.replaceAt = function(index, replacement) {
        return this.substr(0, index) + replacement + this.substr(index + 1, 28);
    }

    function passID(id){
        working_id = rightID(id)
    }

    function fabricationDes(id){
        document.getElementById('id_fabric_inline-V-fabric_desc'.replaceAt(17, working_id)).value = document.getElementById(`td-${rightID(id)}`).children[7].innerText
        document.getElementById('id_fabric_inline-V-gms'.replaceAt(17, working_id)).value = document.getElementById(`td-${rightID(id)}`).children[3].innerText
    }

    function febCount(){
        fCout = 0
        for(var i = 0; i<count; i++){
            if(document.getElementById('id_fabric_inline-V-fabric_desc'.replaceAt(17, i)).value.includes('+')){
                fCout += 2
            }else{
                fCout++
            }
        }
        return fCout
    }

    function getYarn(){
        for(var i = 0; i<febCount(); i++){
            document.getElementsByClassName('btn btn-sm btn-warning mt-4 mb-3 mb-yarn')[0].click()
        }
    }
   // click on the div FOR SHOWING HIDE DIV FOR COSTING
    function fabric(e, id) {
        var el = document.getElementById(id);
        el.style.display = (el.style.display == 'none' || el.style.display == '') ? 'block' : 'none';
        // for hiding
        fabric.el = el;
        // stop the event right here
        if (e.stopPropagation) e.stopPropagation();
        e.cancelBubble = true;
        return false;
    }
    function trim(e, id) {
        var el = document.getElementById(id);
        el.style.display = (el.style.display == 'none' || el.style.display == '') ? 'block' : 'none';
        fabric.el = el;
        if (e.stopPropagation) e.stopPropagation();
        e.cancelBubble = true;
        return false;
    }
    function embllish(e, id) {
        var el = document.getElementById(id);
        el.style.display = (el.style.display == 'none' || el.style.display == '') ? 'block' : 'none';
        fabric.el = el;
        if (e.stopPropagation) e.stopPropagation();
        e.cancelBubble = true;
        return false;
    }
    function wash(e, id) {
        var el = document.getElementById(id);
        el.style.display = (el.style.display == 'none' || el.style.display == '') ? 'block' : 'none';
        fabric.el = el;
        if (e.stopPropagation) e.stopPropagation();
        e.cancelBubble = true;
        return false;
    }
    function commercial(e, id) {
        var el = document.getElementById(id);
        el.style.display = (el.style.display == 'none' || el.style.display == '') ? 'block' : 'none';
        fabric.el = el;
        if (e.stopPropagation) e.stopPropagation();
        e.cancelBubble = true;
        return false;
    }
    function commission(e, id) {
        var el = document.getElementById(id);
        el.style.display = (el.style.display == 'none' || el.style.display == '') ? 'block' : 'none';
        fabric.el = el;
        if (e.stopPropagation) e.stopPropagation();
        e.cancelBubble = true;
        return false;
    }
</script>
<script type="text/javascript">
    $(function () {
       
            document.getElementById("job_no").addEventListener("dblclick", function() {
            location.href = "{% url 'order_selection' %}";
            });
         
      });
</script>
<script>
    $(document).ready(function() {
      // Setup - add a text input to each footer cell
      $('#fabric_desc_report #tfooter th').each( function () {
          var title = $(this).text();
          $(this).html( '<input type="text" class="fabDesSearch" placeholder="Search" />' );
      });

      $("#fabric_desc_report").on('click','.btnSelect',function(){
        var currentRow=$(this).closest("tr"); 
        var construction=currentRow.find("td:eq(2)").text(); 
        var gsm=currentRow.find("td:eq(3)").text(); 
        var composition=currentRow.find("td:eq(7)").text(); 
        var fabComp= construction + ' ' + ' ' + composition;
        var fabGSM= gsm;
    });
    //For Modal Adminlte Datatable scrolly and scrollx problem solved
      $('#fabricDesc').on('shown.bs.modal',function(){
        tableModal = $("#fabric_desc_report").DataTable({
        "paging":false,
        "scrollX":true,
        "scrollY":470,
        "destroy":true
        });
    });
      // DataTable
      var table = $('#fabric_desc_report').DataTable({
          initComplete: function () {
              // Apply the search
              this.api().columns().every( function () {
                  var that = this;
                  $( 'input', this.footer() ).on( 'keyup change clear', function () {
                      if ( that.search() !== this.value ) {
                          that
                            .search( this.value )
                            .draw();
                      }
                  } );
              } );
          }
      });
  });
</script>
<script type="text/javascript"> 
    // SUBMIT FORM WITHOUT PAGE RELOAD ; IMAGE AND FILE SEND VIA AJAX & DJANGO
        $('#c_form').submit(function(event){
            event.preventDefault();
            var form = $(this)
            url = form.attr('action')
            var formData = new FormData(this);
            $.ajax({
                url: url,
                type: 'POST',
                data: formData,
                success: function (response) {
                    alert("Your Budget Cost Successfully Added. Please add below form as well.");
                },
                error: function (response) {
                    alert("Something Went Wrong...");
                },
                cache: false,
                contentType: false,
                processData: false
            });
        });
</script> 

<script type="text/javascript"> 
    // SUBMIT FORM WITHOUT PAGE RELOAD ; IMAGE AND FILE SEND VIA AJAX & DJANGO
        $('#fc_form').submit(function(event){
            event.preventDefault();
            var form = $(this)
            url = form.attr('action')
            var formData = new FormData(this);
            $.ajax({
                url: url,
                type: 'POST',
                data: formData,
                success: function (response) {
                    alert("Your Fabric Cost Successfully Added. Please add below form as well.");
                },
                error: function (response) {
                    alert("Something Went Wrong...");
                },
                cache: false,
                contentType: false,
                processData: false
            });
        });
</script>
<script type="text/javascript"> 
    // SUBMIT FORM WITHOUT PAGE RELOAD ; IMAGE AND FILE SEND VIA AJAX & DJANGO
    $("#color").submit(function(event){
        event.preventDefault();
        var form = $(this)
        url = form.attr('action')
        var formData = new FormData(this);
        $.ajax({
            url: url,
            type: 'POST',
            data: formData,
            success: function (response) {
                alert("Your COLOR & SIZE: AVERAGE GREY CONSUMPTION Successfully Added. Please add below form as well.")
            },
            error: function (response) {
                alert("Something Went Wrong...")
            },
            cache: false,
            contentType: false,
            processData: false
        });
    });
</script>

{% endblock script %}
